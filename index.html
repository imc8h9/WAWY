<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نحن معك | Nahnu Ma'ak - Privacy-First Mental Health Support</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- App Container -->
    <div class="app-container" id="appContainer">
        <!-- Top Navigation Bar -->
        <nav class="top-nav" id="topNav">
            <div class="nav-content">
                <div class="logo-section">
                    <h1 class="logo" id="logoText">نحن معك</h1>
                    <span class="logo-subtitle" id="logoSubtitle">Nahnu Ma'ak</span>
                </div>
                
                <div class="nav-controls">
                    <div class="privacy-badge" id="privacyBadge">
                        <i class="fas fa-user-secret"></i>
                        <span id="privacyBadgeText">Anonymous</span>
                    </div>
                    
                    <div class="language-toggle" id="languageToggle">
                        <button class="lang-btn active" data-lang="ar">AR</button>
                        <button class="lang-btn" data-lang="en">EN</button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Page A: Landing -->
            <section class="page active" id="pageLanding">
                <div class="landing-container">
                    <div class="landing-hero">
                        <h1 class="hero-title" id="heroTitle">خصوصيتك أولاً.<br>خذ الخطوة الأولى بثقة.</h1>
                        <p class="hero-subtitle" id="heroSubtitle">Privacy first. Take the first step with confidence.</p>
                        
                        <div class="trust-strip">
                            <div class="trust-badge">
                                <i class="fas fa-ban"></i>
                                <span id="trustBadge1">بدون اسم</span>
                            </div>
                            <div class="trust-badge">
                                <i class="fas fa-mask"></i>
                                <span id="trustBadge2">هوية مخفية</span>
                            </div>
                            <div class="trust-badge">
                                <i class="fas fa-shield-alt"></i>
                                <span id="trustBadge3">دعم آمن</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="landing-actions">
                        <button class="btn btn-primary btn-large" id="startButton">
                            <span id="startButtonText">ابدأ الآن</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                        
                        <button class="btn btn-ghost" id="privacyInfoButton">
                            <i class="fas fa-lock"></i>
                            <span id="privacyInfoText">كيف نحمي خصوصيتك؟</span>
                        </button>
                    </div>
                    
                    <div class="scroll-hint">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
            </section>

            <!-- Page B: Privacy + Choose -->
            <section class="page" id="pageChoose">
                <div class="choose-container">
                    <button class="btn-back" id="backToLanding">
                        <i class="fas fa-arrow-left"></i>
                        <span id="backButtonText">الرجوع</span>
                    </button>
                    
                    <div class="privacy-panel">
                        <div class="privacy-header">
                            <i class="fas fa-user-shield"></i>
                            <h3 id="privacyTitle">كل ما تكتبه هنا خاص. لا نشارك بياناتك إلا بإذنك.</h3>
                        </div>
                        <p class="privacy-subtitle" id="privacySubtitle">يمكنك المتابعة بدون اسم. والتحويل لمختص يبقى بدون كشف الهوية.</p>
                    </div>
                    
                    <h2 class="section-title" id="chooseTitle">اختر طريقة الدعم</h2>
                    
                    <div class="cards-container">
                        <!-- AI Support Card -->
                        <div class="selection-card" id="aiCard">
                            <div class="card-icon">
                                <i class="fas fa-robot"></i>
                            </div>
                            <h3 class="card-title" id="aiCardTitle">التواصل مع الذكاء الاصطناعي</h3>
                            <p class="card-subtitle" id="aiCardSubtitle">دعم مبدئي بسرّية + أسئلة منظمة تساعدك تفهم مشاعرك.</p>
                            
                            <div class="card-features">
                                <div class="feature">
                                    <i class="fas fa-bolt"></i>
                                    <span id="aiFeature1">إجابة فورية</span>
                                </div>
                                <div class="feature">
                                    <i class="fas fa-list-check"></i>
                                    <span id="aiFeature2">أسئلة منظمة</span>
                                </div>
                                <div class="feature">
                                    <i class="fas fa-user-md"></i>
                                    <span id="aiFeature3">تحويل لمختص</span>
                                </div>
                            </div>
                            
                            <div class="card-action">
                                <button class="btn btn-secondary btn-block" id="startAiButton">
                                    <span id="startAiText">ابدأ المحادثة</span>
                                    <i class="fas fa-comment"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Specialist Card -->
                        <div class="selection-card" id="specialistCard">
                            <div class="card-icon">
                                <i class="fas fa-user-md"></i>
                            </div>
                            <h3 class="card-title" id="specialistCardTitle">التواصل مع مختص حقيقي</h3>
                            <p class="card-subtitle" id="specialistCardSubtitle">واجهة اتصال للعرض — بدون اتصال فعلي.</p>
                            
                            <div class="card-features">
                                <div class="feature">
                                    <i class="fas fa-mask"></i>
                                    <span id="specialistFeature1">بدون كشف الهوية</span>
                                </div>
                                <div class="feature">
                                    <i class="fas fa-phone-alt"></i>
                                    <span id="specialistFeature2">تجربة مكالمة رسمية</span>
                                </div>
                                <div class="feature">
                                    <i class="fas fa-calendar-check"></i>
                                    <span id="specialistFeature3">طلب موعد (نموذج)</span>
                                </div>
                            </div>
                            
                            <div class="card-action">
                                <button class="btn btn-primary btn-block" id="startSpecialistButton">
                                    <span id="startSpecialistText">بدء المكالمة التجريبية</span>
                                    <i class="fas fa-phone"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Page C: AI Chat -->
            <section class="page" id="pageChat">
                <div class="chat-container">
                    <!-- Chat Header -->
                    <div class="chat-header">
                        <button class="btn-back" id="backToChoose">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        
                        <div class="chat-header-info">
                            <h2 class="chat-title" id="chatTitle">محادثة مع الذكاء الاصطناعي</h2>
                            <div class="status-chips">
                                <div class="status-chip anonymous">
                                    <i class="fas fa-user-secret"></i>
                                    <span id="anonymousChipText">مجهول</span>
                                </div>
                                <div class="status-chip online">
                                    <div class="online-dot"></div>
                                    <span id="onlineChipText">متصل</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="chat-header-actions">
                            <button class="btn-icon" id="saveChatButton" title="Save conversation">
                                <i class="fas fa-save"></i>
                            </button>
                            <button class="btn-icon" id="clearChatButton" title="Clear conversation">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Chat Messages Area -->
                    <div class="chat-messages" id="chatMessages">
                        <!-- AI Welcome Message -->
                        <div class="message ai-message">
                            <div class="message-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="message-content">
                                <p id="aiWelcomeMessage">نحن معك. أخبرنا بما تشعر به الآن.</p>
                                <div class="message-time">الآن</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Input Area -->
                    <div class="chat-input-container">
                        <div class="chat-input-wrapper">
                            <input type="text" 
                                   class="chat-input" 
                                   id="chatInput"
                                   placeholder="اكتب رسالتك هنا..."
                                   autocomplete="off">
                            <button class="btn-send" id="sendMessageButton">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        
                        <div class="chat-controls">
                            <button class="btn btn-secondary" id="switchToSpecialistButton">
                                <i class="fas fa-user-md"></i>
                                <span id="switchToSpecialistText">التحويل إلى مختص</span>
                            </button>
                            
                            <div class="chat-disclaimer">
                                <i class="fas fa-exclamation-circle"></i>
                                <p id="chatDisclaimer">هذه نسخة أولية ولا تغني عن الاستشارة الطبية. في الحالات الطارئة تواصل مع الجهات المختصة.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Page D: Call Prototype -->
            <section class="page" id="pageCall">
                <div class="call-container">
                    <!-- Call Header -->
                    <div class="call-header">
                        <button class="btn-back" id="backToChooseFromCall">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        
                        <div class="call-header-info">
                            <div class="call-title">
                                <i class="fas fa-user-secret"></i>
                                <h2 id="callTitle">مكالمة مجهولة</h2>
                            </div>
                            <div class="call-status" id="callStatus">
                                <div class="connecting-dots">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                                <span id="statusText">جارِ الاتصال...</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Call Stage -->
                    <div class="call-stage">
                        <div class="video-tile">
                            <div class="video-placeholder">
                                <div class="specialist-avatar">
                                    <i class="fas fa-user-md"></i>
                                </div>
                                <div class="specialist-info">
                                    <h3 id="specialistName">أخصائي (تجريبي)</h3>
                                    <p id="specialistRole">استشاري صحة نفسية</p>
                                </div>
                            </div>
                            
                            <div class="video-overlay">
                                <div class="no-specialist-message" id="noSpecialistMessage">
                                    <i class="fas fa-calendar-times"></i>
                                    <h3 id="noSpecialistTitle">لا يوجد أخصائي متاح حاليًا — هذا مجرد عرض تجريبي</h3>
                                    <p id="noSpecialistSubtitle">يمكنك طلب موعد وسنتواصل معك خلال 24 ساعة</p>
                                    <button class="btn btn-primary btn-large" id="scheduleRequestButton">
                                        <i class="fas fa-calendar-plus"></i>
                                        <span id="scheduleRequestText">طلب موعد (تجريبي)</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Call Controls -->
                    <div class="call-controls">
                        <div class="control-group">
                            <button class="call-control-btn" id="micButton">
                                <i class="fas fa-microphone"></i>
                                <span id="micLabel">ميكروفون</span>
                            </button>
                            <button class="call-control-btn" id="cameraButton">
                                <i class="fas fa-video"></i>
                                <span id="cameraLabel">كاميرا</span>
                            </button>
                            <button class="call-control-btn" id="captionButton">
                                <i class="fas fa-closed-captioning"></i>
                                <span id="captionLabel">ترجمة</span>
                            </button>
                        </div>
                        
                        <button class="call-control-btn destructive" id="endCallButton">
                            <i class="fas fa-phone-slash"></i>
                            <span id="endCallLabel">إنهاء المكالمة</span>
                        </button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Modals -->
        <div class="modal-overlay" id="modalOverlay">
            <!-- Privacy Modal -->
            <div class="modal" id="privacyModal">
                <div class="modal-header">
                    <h3 class="modal-title" id="privacyModalTitle">كيف نحمي خصوصيتك</h3>
                    <button class="modal-close" id="closePrivacyModal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <ul class="privacy-list">
                        <li>
                            <i class="fas fa-user-secret"></i>
                            <span id="privacyPoint1">جلسات مجهولة الهوية بشكل افتراضي</span>
                        </li>
                        <li>
                            <i class="fas fa-ban"></i>
                            <span id="privacyPoint2">لا نطلب اسمك الحقيقي</span>
                        </li>
                        <li>
                            <i class="fas fa-database"></i>
                            <span id="privacyPoint3">التخزين المحلي فقط (لا توجد خوادم)</span>
                        </li>
                        <li>
                            <i class="fas fa-shield-alt"></i>
                            <span id="privacyPoint4">لا نشارك بياناتك دون إذنك</span>
                        </li>
                        <li>
                            <i class="fas fa-trash-alt"></i>
                            <span id="privacyPoint5">يمكنك حذف جلستك في أي وقت</span>
                        </li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="privacyModalCloseButton">
                        <span id="privacyModalCloseText">فهمت</span>
                    </button>
                </div>
            </div>

            <!-- Schedule Modal -->
            <div class="modal" id="scheduleModal">
                <div class="modal-header">
                    <h3 class="modal-title" id="scheduleModalTitle">طلب موعد مع مختص</h3>
                    <button class="modal-close" id="closeScheduleModal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="scheduleForm">
                        <div class="form-group">
                            <label for="preferredTime" id="timeLabel">الوقت المفضل</label>
                            <select class="form-select" id="preferredTime">
                                <option value="" id="timePlaceholder">اختر وقتًا...</option>
                                <option value="morning" id="morningOption">صباحًا (9 ص - 12 م)</option>
                                <option value="afternoon" id="afternoonOption">بعد الظهر (12 م - 4 م)</option>
                                <option value="evening" id="eveningOption">مساءً (4 م - 8 م)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="concernType" id="concernLabel">نوع الاستشارة</label>
                            <select class="form-select" id="concernType">
                                <option value="" id="concernPlaceholder">اختر نوعًا...</option>
                                <option value="mental" id="mentalOption">دعم نفسي</option>
                                <option value="medical" id="medicalOption">استشارة طبية</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="concernNote" id="noteLabel">ملاحظات إضافية (اختياري)</label>
                            <textarea class="form-textarea" 
                                      id="concernNote" 
                                      rows="3"
                                      placeholder="اكتب ملاحظاتك هنا..."></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="cancelScheduleButton">
                        <span id="cancelScheduleText">إلغاء</span>
                    </button>
                    <button class="btn btn-primary" id="submitScheduleButton">
                        <i class="fas fa-paper-plane"></i>
                        <span id="submitScheduleText">إرسال الطلب</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div class="toast-container" id="toastContainer"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>
